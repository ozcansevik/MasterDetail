<Window  x:Class="MasterDetail.MainWindow"
         xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
         xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
         Title="Liste de Voitures" Height="600" Width="800" WindowStartupLocation="CenterScreen" BorderThickness="1" BorderBrush="#FFB8B8B8" FontWeight="Bold" FontFamily="Yu Gothic UI Semibold">
    
    <Grid>
        <Grid.Background>
            <LinearGradientBrush EndPoint="0.5,1" MappingMode="RelativeToBoundingBox" StartPoint="0.5,0">
                <GradientStop Color="#FF252424" Offset="1"/>
                <GradientStop Color="White"/>
            </LinearGradientBrush>
        </Grid.Background>
        <Grid.RowDefinitions>
            <RowDefinition Height="auto"/>
            <RowDefinition Height="8*" />
            <RowDefinition Height="2*"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="0.4*" />
            <ColumnDefinition />
        </Grid.ColumnDefinitions>

        <Label Grid.ColumnSpan="2" HorizontalAlignment="Center" FontSize="24" Grid.Column="0" Grid.Row="0" Content="Liste de Voitures"  FontFamily="Buxton Sketch" />
        <ListView Name="List"  ItemsSource="{Binding ListeVoiture}" SelectedItem="{Binding SelectedVoiture}" Grid.Column="0" Grid.Row="1" Background="#FFE0E0E0" BorderThickness="3" FontSize="16" BorderBrush="#FF484848"  Margin="10" ScrollViewer.CanContentScroll="True" ScrollViewer.VerticalScrollBarVisibility="Visible">
            <ListView.ItemTemplate>
                <DataTemplate>
                    <StackPanel Orientation="Horizontal" >
                        <TextBlock Margin="5" Text="{Binding Marque}" />
                        <TextBlock Margin="5" Text="{Binding Modele}" />
                    </StackPanel>
                </DataTemplate>
            </ListView.ItemTemplate>
        </ListView>
        <Grid Grid.Column="1" Grid.Row="1" >
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition />
                <ColumnDefinition />
            </Grid.ColumnDefinitions>
            <StackPanel Margin="6" Height="25" Grid.Row="0" Orientation="Horizontal">
                <Label Width="70" Content="Marque : " />
                <TextBox IsReadOnly="{Binding IsReadOnly}" Text="{Binding SelectedVoiture.Marque}" Name="Marque" MinWidth="100"  />
            </StackPanel>
            <StackPanel Margin="6" Height="25" Grid.Row="1" Orientation="Horizontal">
                <Label Width="70" Content="Modele : " />
                <TextBox IsReadOnly="{Binding IsReadOnly}" Text="{Binding SelectedVoiture.Modele}" Name="Modele" MinWidth="100" />
            </StackPanel>
            <StackPanel Margin="6" Height="25" Grid.Row="2" Orientation="Horizontal">
                <Label Width="70" Content="Type : " />
                <ComboBox ItemsSource="{Binding ListeTypeVoiture}" IsEnabled="{Binding IsEnabledAfterEdit}" SelectedItem="{Binding SelectedVoiture.Type}" Name="Type" MinWidth="100"/>
            </StackPanel>
            <StackPanel Margin="6" Height="25" Grid.Row="3" Orientation="Horizontal">
                <Label Width="70" Content="Puissance : " />
                <TextBox IsReadOnly="{Binding IsReadOnly}" Text="{Binding SelectedVoiture.Puissance}" Name="Puissance" MinWidth="100"/>
            </StackPanel>
            <StackPanel Margin="20" Height="auto" Grid.Row="4" Grid.ColumnSpan="2"  >
                <Label Width="75" Content="Description: " />
                <TextBox IsReadOnly="{Binding IsReadOnly}" Text="{Binding SelectedVoiture.Description}" x:Name="Description" MaxHeight="50" TextAlignment="Center" Width="340" AcceptsReturn="True" TextWrapping="Wrap" VerticalScrollBarVisibility="Visible"  />
            </StackPanel>
            <StackPanel Grid.Column="1" Grid.RowSpan="4" Height="auto" HorizontalAlignment="Center" VerticalAlignment="Center">
                <Border BorderBrush="Black" BorderThickness="2" >
                    <Image Source="{Binding SelectedVoiture.ImageSource}" MinWidth="250" MinHeight="250" />
                </Border>
                <Button Width="auto" Height="auto" Name="AjoutImage" Content="Ouvrir une image" Command="{Binding OpenCommand}" IsEnabled="{Binding IsEnabledAfterEdit}"/>
            </StackPanel>
        </Grid>
        
        <StackPanel HorizontalAlignment="Center" Margin="1" Grid.Column="1" Grid.Row="2" Orientation="Horizontal">
            <Button BorderBrush="Black" BorderThickness="2" Margin="10" Name="Ajouter" Width="90" Height="auto" Content="Ajouter" Command="{Binding  AddCommand}"  FontSize="16" />
            <Button BorderBrush="Black" BorderThickness="2" Margin="10" Padding="10" Name="Modifier" Width="auto" Height="auto" Content="{Binding TextEdit}" Command="{Binding  EditCommand}" IsEnabled="{Binding IsEnabledButton}" FontFamily="Bauhaus 93" FontSize="16" />
            <Button BorderBrush="Black" BorderThickness="2" Margin="10" Name="Supprimer" Width="90" Height="auto" Content="Supprimer"  Command="{Binding  DelCommand}" IsEnabled="{Binding IsEnabledButton}" FontFamily="Bauhaus 93" FontSize="16"/>
        </StackPanel>
                    
    </Grid>
    
</Window>
